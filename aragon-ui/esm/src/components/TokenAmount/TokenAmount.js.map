{"version":3,"file":"TokenAmount.js","sources":["../../../../../src/components/TokenAmount/TokenAmount.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from '../../proptypes'\nimport { useToken, UseTokenProvider } from 'use-token'\nimport TokenAmountLib from 'token-amount'\nimport { useImageExists } from '../../hooks'\nimport { GU, textStyle } from '../../style'\nimport { isAddress } from '../../utils'\nimport { useTheme } from '../../theme'\n\nconst TokenAmount = React.memo(function TokenAmount({\n  address,\n  amount,\n  chainId,\n  decimals,\n  digits,\n  iconUrl,\n  size,\n  symbol,\n  ...props\n}) {\n  const isValidAddress = isAddress(address)\n\n  if (!isValidAddress && !symbol) {\n    throw new Error(\n      'TokenAmount: you need to provide a valid address or a symbol'\n    )\n  }\n\n  return (\n    <UseTokenProvider>\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n        `}\n        {...props}\n      >\n        <Icon\n          address={address}\n          chainId={chainId}\n          iconUrl={iconUrl}\n          size={size}\n        />\n        {amount && (\n          <span\n            css={`\n              padding-right: ${size === 'large' ? 0.5 * GU : 0.25 * GU}px;\n              ${textStyle(size === 'large' ? 'title2' : 'body2')};\n              line-height: 1;\n              ${size === 'large' ? `transform: translateY(2px);` : ''}\n            `}\n          >\n            {TokenAmountLib.format(amount, decimals, { digits: digits })}\n          </span>\n        )}\n        <Symbol address={address} size={size} symbol={symbol} />\n      </div>\n    </UseTokenProvider>\n  )\n})\n\nconst Icon = function Icon({ address, chainId, iconUrl, size }) {\n  const token = useToken(chainId === 1 ? address : '')\n  const { exists } = useImageExists(iconUrl || token.iconUrl)\n  return (\n    exists && (\n      <img\n        alt=\"\"\n        height={3 * GU}\n        src={iconUrl || token.iconUrl}\n        css={`\n          padding-right: ${size === 'large' ? 1 * GU : 0.5 * GU}px;\n        `}\n      />\n    )\n  )\n}\n\nconst Symbol = function Symbol({ address, size, symbol }) {\n  const token = useToken(address)\n  const theme = useTheme()\n\n  return (\n    <span\n      css={`\n        color: ${theme.surfaceContentSecondary};\n        ${textStyle('body2')};\n        line-height: 1;\n        ${size === 'large' ? `align-self: flex-end;` : ''}\n        ${size === 'large' ? `transform: translateY(-1px);` : ''}\n      `}\n    >\n      {symbol || token.symbol}\n    </span>\n  )\n}\n\nIcon.propTypes = {\n  address: PropTypes.string,\n  chainId: PropTypes.number,\n  iconUrl: PropTypes.string,\n  size: PropTypes.oneOf(['large', 'medium']),\n}\n\nSymbol.propTypes = {\n  address: PropTypes.string,\n  size: PropTypes.oneOf(['large', 'medium']),\n  symbol: PropTypes.string,\n}\n\nTokenAmount.propTypes = {\n  address: PropTypes.string,\n  amount: PropTypes._bigIntish.isRequired,\n  chainId: PropTypes.number,\n  decimals: PropTypes.number.isRequired,\n  digits: PropTypes.number,\n  iconUrl: PropTypes.string,\n  size: PropTypes.oneOf(['large', 'medium']),\n  symbol: PropTypes.string,\n}\n\nTokenAmount.defaultProps = {\n  chainId: 1,\n  digits: 2,\n  size: 'medium',\n}\n\nexport default TokenAmount\n"],"names":["TokenAmount","React","memo","address","amount","chainId","decimals","digits","iconUrl","size","symbol","props","isValidAddress","isAddress","Error","GU","textStyle","TokenAmountLib","format","Icon","token","useToken","useImageExists","exists","Symbol","theme","useTheme","surfaceContentSecondary","propTypes","PropTypes","string","number","oneOf","_bigIntish","isRequired","defaultProps"],"mappings":"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"}